# フードログアプリ要件定義書

## イントロダクション

フードログアプリは、ユーザーが日々の食事を写真と共に記録し、後から振り返ることができる Web アプリケーションです。Ever Food のようなフードログ機能を Web アプリの PoC（概念実証）版として実装します。このアプリはフロントエンド完結型で、IndexedDB を使用してローカルにデータを保存します。

## 要件

### 要件 1: 食事記録の作成と保存

**ユーザーストーリー:** ユーザーとして、食事の写真を撮影・アップロードし、コメントやタグを付けて保存したい。そうすることで、食事の記録を残すことができる。

#### 受け入れ基準

1. WHEN ユーザーがカメラボタンをクリックする THEN システムはカメラへのアクセスを要求し、写真撮影インターフェースを表示する
2. WHEN ユーザーが写真をアップロードする THEN システムは自動的に写真を圧縮し、適切な解像度（16:9 または 4:3）で保存する
3. WHEN ユーザーがコメントを入力する THEN システムはテキストを保存する
4. WHEN ユーザーがタグを入力する THEN システムはカンマまたはスペース区切りでタグを分割し保存する
5. WHEN ユーザーが位置情報取得ボタンをクリックする THEN システムは GPS 座標を取得し保存する
6. WHEN ユーザーが投稿ボタンをクリックする THEN システムは全ての情報を IndexedDB に保存し、メイン画面に戻る

### 要件 2: 食事記録の表示と検索

**ユーザーストーリー:** ユーザーとして、保存した食事記録をカード形式で閲覧し、日付やタグ、コメントで検索したい。そうすることで、過去の食事を簡単に振り返ることができる。

#### 受け入れ基準

1. WHEN ユーザーがメイン画面を開く THEN システムは保存された食事記録を新しい順にカード形式で表示する
2. WHEN ユーザーが日付フィルターを使用する THEN システムは指定された日付範囲の記録のみを表示する
3. WHEN ユーザーがタグで検索する THEN システムは該当するタグを持つ記録のみを表示する
4. WHEN ユーザーがコメントで検索する THEN システムはコメントに検索語を含む記録のみを表示する
5. WHEN ユーザーがお気に入りフィルターを有効にする THEN システムはお気に入りマークされた記録のみを表示する

### 要件 3: 食事記録の詳細表示

**ユーザーストーリー:** ユーザーとして、食事記録の詳細情報を見たい。そうすることで、写真や位置情報などの詳細を確認できる。

#### 受け入れ基準

1. WHEN ユーザーがカードをタップする THEN システムは詳細画面を表示する
2. WHEN 詳細画面が表示される THEN システムは写真の拡大表示、コメント、タグ、日時、位置情報を表示する
3. WHEN 位置情報が存在する THEN システムは地図上にその位置を表示する
4. WHEN ユーザーが戻るボタンをクリックする THEN システムはメイン画面に戻る

### 要件 4: 食事記録の編集と削除

**ユーザーストーリー:** ユーザーとして、保存した食事記録を編集または削除したい。そうすることで、情報を最新に保ったり、不要な記録を削除したりできる。

#### 受け入れ基準

1. WHEN ユーザーが詳細画面で編集ボタンをクリックする THEN システムは編集画面を表示する
2. WHEN 編集画面が表示される THEN システムは現在の情報（写真以外）をフォームにプリセットする
3. WHEN ユーザーが保存ボタンをクリックする THEN システムは変更を保存し、詳細画面に戻る
4. WHEN ユーザーが削除ボタンをクリックする THEN システムは確認ダイアログを表示する
5. WHEN ユーザーが削除を確認する THEN システムは記録を完全に削除し、メイン画面に戻る

### 要件 5: お気に入り機能

**ユーザーストーリー:** ユーザーとして、特定の食事記録をお気に入りとしてマークしたい。そうすることで、重要な記録を簡単に見つけることができる。

#### 受け入れ基準

1. WHEN ユーザーがカードまたは詳細画面で ★ ボタンをクリックする THEN システムはその記録のお気に入りステータスを切り替える
2. WHEN 記録がお気に入りとしてマークされる THEN システムは ★ アイコンを強調表示する
3. WHEN ユーザーがお気に入りフィルターを有効にする THEN システムはお気に入りとしてマークされた記録のみを表示する
